# راهنمای فرم محصول جدید

## 🎯 ویژگی‌های جدید

فرم ثبت محصول به روز شده است و اکنون از **انتخاب آبشاری (Cascading Dropdowns)** استفاده می‌کند که انتخاب دسته‌بندی را بسیار ساده‌تر کرده است.

## 📋 مراحل استفاده

### 1️⃣ **انتخاب بخش (اختیاری - برای فیلتر)**
```
بخش را انتخاب کنید:
├─ الکترونیکی
├─ مد و پوشاک
├─ خانه و آشپزخانه
└─ ...
```
- این فیلد **اختیاری** است
- با انتخاب بخش، لیست دسته‌بندی‌ها فیلتر می‌شود
- می‌توانید آن را خالی بگذارید تا همه دسته‌بندی‌ها نمایش داده شوند

### 2️⃣ **انتخاب دسته‌بندی (اختیاری - برای فیلتر)**
```
دسته‌بندی را انتخاب کنید:
├─ موبایل و تبلت
├─ لپ‌تاپ و کامپیوتر
├─ لباس مردانه
└─ ...
```
- این فیلد هم **اختیاری** است
- با انتخاب دسته‌بندی، لیست زیردسته‌ها فیلتر می‌شود
- می‌توانید آن را خالی بگذارید

### 3️⃣ **انتخاب زیردسته (الزامی)** ⭐
```
زیردسته را انتخاب کنید:
├─ گوشی هوشمند
├─ تبلت
├─ لپ‌تاپ
└─ ...
```
- این فیلد **الزامی** است
- محصول شما در این زیردسته قرار می‌گیرد
- پس از انتخاب، مسیر کامل نمایش داده می‌شود

## 🎨 ویژگی‌های بصری

### نمایش مسیر انتخاب شده
پس از انتخاب زیردسته، مسیر کامل به این شکل نمایش داده می‌شود:

```
مسیر انتخاب شده:
┌────────────────────────────────────┐
│ الکترونیکی > موبایل و تبلت > گوشی هوشمند │
└────────────────────────────────────┘
```

### رنگ‌بندی
- **آبی**: بخش و دسته‌بندی (فیلترها)
- **سبز**: زیردسته (الزامی)
- **آبی روشن**: نمایش مسیر انتخاب شده

## 🔄 نحوه کار فیلترها

```
مرحله 1: انتخاب بخش "الکترونیکی"
    ↓
مرحله 2: فقط دسته‌بندی‌های مربوط به "الکترونیکی" نمایش داده می‌شوند
    ├─ موبایل و تبلت
    ├─ لپ‌تاپ و کامپیوتر
    └─ دوربین
    ↓
مرحله 3: انتخاب "موبایل و تبلت"
    ↓
مرحله 4: فقط زیردسته‌های مربوط نمایش داده می‌شوند
    ├─ گوشی هوشمند
    └─ تبلت
    ↓
مرحله 5: انتخاب "گوشی هوشمند" (الزامی)
    ↓
✅ محصول در مسیر "الکترونیکی > موبایل و تبلت > گوشی هوشمند" ثبت می‌شود
```

## 🧪 تست فرم

### سناریو 1: استفاده از فیلترها
1. به `/products/create` بروید
2. بخش "الکترونیکی" را انتخاب کنید
3. دسته‌بندی "موبایل و تبلت" را انتخاب کنید
4. زیردسته "گوشی هوشمند" را انتخاب کنید
5. مسیر کامل باید نمایش داده شود

### سناریو 2: بدون فیلتر
1. بخش را خالی بگذارید
2. دسته‌بندی را خالی بگذارید
3. مستقیماً زیردسته مورد نظر را انتخاب کنید
4. همه زیردسته‌ها نمایش داده می‌شوند (با نام بخش در کنار)

### سناریو 3: ویرایش محصول موجود
1. محصول موجود را ویرایش کنید
2. بخش و دسته‌بندی به طور خودکار بر اساس زیردسته فعلی انتخاب می‌شوند
3. می‌توانید زیردسته را تغییر دهید

## ⚠️ نکات مهم

1. **فقط زیردسته الزامی است**
   - بخش و دسته‌بندی فقط برای فیلتر کردن هستند
   - نیازی به انتخاب آن‌ها نیست

2. **نمایش مسیر کامل**
   - پس از انتخاب زیردسته، مسیر کامل نمایش داده می‌شود
   - این به شما کمک می‌کند مطمئن شوید محصول در جای درستی قرار می‌گیرد

3. **تغییر دادن فیلتر**
   - اگر فیلتر را تغییر دهید، لیست زیردسته‌ها به روز می‌شود
   - اگر زیردسته انتخاب شده در لیست جدید نباشد، خودکار پاک می‌شود

## 🔧 تغییرات فنی

- قبلاً: فیلد `category` (اشتباه بود)
- حالا: فیلد `subcategory` (درست)

این تغییر با ساختار پایگاه داده هماهنگ است که محصولات در زیردسته‌ها قرار می‌گیرند.

## 📱 ظاهر موبایل

فرم برای موبایل نیز بهینه شده است:
- فونت‌ها مناسب موبایل
- دکمه‌ها به صورت عمودی
- المان‌ها واکنش‌گرا (Responsive)

---

**نوشته شده در:** اکتبر 2025
**نسخه:** 2.0

