#!/bin/bash
# Quick reference script for creating staging apps in CapRover
# This script shows the commands you need to run, but apps must be created via CapRover dashboard

echo "=========================================="
echo "üìã Staging Apps Setup Instructions"
echo "=========================================="
echo ""
echo "‚ö†Ô∏è  IMPORTANT: Apps must be created via CapRover Dashboard"
echo "   This script only shows what you need to do."
echo ""
echo "üîó CapRover Dashboard: https://captain.indexo.ir"
echo ""
echo "=========================================="
echo "1Ô∏è‚É£  CREATE BACKEND APP"
echo "=========================================="
echo ""
echo "1. Go to: https://captain.indexo.ir"
echo "2. Navigate to: Apps ‚Üí Create New App"
echo "3. App Name: multivendor-backend-staging"
echo "   (or match your CAPROVER_BACKEND_STAGING_APP_NAME secret)"
echo "4. Has Persistent Data: ‚úÖ YES"
echo "5. Enable HTTPS: ‚úÖ YES"
echo "6. Add custom domains:"
echo "   - staging-api.indexo.ir"
echo "   - staging-backend.indexo.ir"
echo ""
echo "7. After creating, go to App Configs and add environment variables:"
echo "   (See: caprover-env-backend-staging.txt)"
echo ""
echo "=========================================="
echo "2Ô∏è‚É£  CREATE FRONTEND APP"
echo "=========================================="
echo ""
echo "1. Go to: https://captain.indexo.ir"
echo "2. Navigate to: Apps ‚Üí Create New App"
echo "3. App Name: multivendor-frontend-staging"
echo "   (or match your CAPROVER_FRONTEND_STAGING_APP_NAME secret)"
echo "4. Has Persistent Data: ‚ùå NO"
echo "5. Enable HTTPS: ‚úÖ YES"
echo "6. Add custom domain:"
echo "   - staging.indexo.ir"
echo ""
echo "7. After creating, go to App Configs and add environment variables:"
echo "   (See: caprover-env-frontend-staging.txt)"
echo ""
echo "=========================================="
echo "3Ô∏è‚É£  VERIFY GITHUB SECRETS"
echo "=========================================="
echo ""
echo "Make sure these secrets are set in GitHub:"
echo "   - CAPROVER_URL = https://captain.indexo.ir"
echo "   - CAPROVER_PASSWORD = <your-caprover-password>"
echo "   - CAPROVER_BACKEND_STAGING_APP_NAME = multivendor-backend-staging"
echo "   - CAPROVER_FRONTEND_STAGING_APP_NAME = multivendor-frontend-staging"
echo ""
echo "GitHub ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions"
echo ""
echo "=========================================="
echo "4Ô∏è‚É£  RETRY DEPLOYMENT"
echo "=========================================="
echo ""
echo "After creating apps and setting secrets:"
echo "   - Re-run the failed workflow in GitHub Actions, OR"
echo "   - Push another commit to staging branch"
echo ""
echo "=========================================="






